
In this section, we describe in detail the features of the routing tool and the admin tool. This includes the functionality and the different ways for the user to input data into the tools, as well as how the
tools process that information and shows it to the user.

\subsection{Mandatory Criteria -- Routing Tool} %Searching \& Routing}

\paragraph{Displaying the map}
\begin{itemize}
	\item An exterior \textit{map} of the campus is displayed. % without the underlying graph
%		\begin{addmargin}[7mm]{0mm}
%			It is possible to just look at the map of the campus, without searching for any points or routes.
%		\end{addmargin}
	\item Interior \textit{floor plan maps} can be displayed.
		\begin{addmargin}[7mm]{0mm}
		Apart from showing the campus \textit{map}, the system is also capable of displaying the \textit{floor plan map} of a building. %However, at each point in time only one map (i.e. either a floor plan map or the exterior map) is displayed.
		\end{addmargin}

	\item Stairs can be displayed.
		\begin{addmargin}[7mm]{0mm}
		If the route contains stairs, they will be displayed as an arrow pointing upwards or downwards.
		\end{addmargin}

	\item If the user searches for a location, it is highlighted on the \textit{map}.
	\item Ways passing under/through buildings are displayed in another color.
\end{itemize}

\paragraph{Navigation in the map}
\begin{itemize}
	\item The user can change his viewpoint by zooming in/out and panning.
	\item The user can enter a building, switch between floors and leave a building.
		\begin{addmargin}[7mm]{0mm}
			When selecting a building, the ground \textit{floor plan map} of the selected building will be displayed. Once this happens, it is possible for the user to switch between the different floors of the selected building and leave the building again.
		\end{addmargin}
\end{itemize}

\paragraph{User input}
\begin{itemize}
	\item The user can search for a location.
		\begin{addmargin}[7mm]{0mm}
			Locations can be searched for by entering identifying information. This information includes building names and numbers, room names and addresses.
			%By using these text fields, the user can provide a start and end point when searching for a route.
		\end{addmargin}
	\item The user can search for a route.
		\begin{addmargin}[7mm]{0mm}
			The user can provide a start and end point for searching a route between them.
		\end{addmargin}
	\item Search suggestions (auto-completion) are provided in the \textit{search fields}.
	\item Start and destination for routing can be selected by clicking on the \textit{map}.
\end{itemize}

\paragraph{Computing the route}
\begin{itemize}
	\item The shortest path between two locations (in- and outdoor) is computed.
		\begin{addmargin}[7mm]{0mm}
			It is possible to search for routes on the whole campus \textit{map}. Those routes may or may not start or end in buildings.
		\end{addmargin}
	%\item Find a location
	\item Routing for pedestrians is provided.
	\item A fast algorithm is used for routing.
		\begin{addmargin}[7mm]{0mm}
			 For further explanation, see ``Nonfunctional Requirements''.
			%Calculation speed is essential for routing applications. Our goal is to minimize this time as much as possible.
		\end{addmargin}
		\item Shortcuts through other buildings are considered.
		\begin{addmargin}[7mm]{0mm}
			 When computing shortest path, the system will take into account routes that pass through other buildings.
		\end{addmargin}
	\item When routing to a building (or lecture hall) with more than one entrance, the path to the nearest entrance is calculated instead of the path to the main entrance.
%	\item The default metric for the computing of the shortest path is constant pedestrian walking speed. (? Move to Product Functionalities?)
\end{itemize}



\paragraph{Output}
\begin{itemize}
	\item A path between two places can be displayed.
		\begin{addmargin}[7mm]{0mm}
			After the user has specified a start and end point, the calculated route is shown on the \textit{map}. The route will be clearly visualized and easy to understand.
		\end{addmargin}
	\item Textbased route output is provided.
		\begin{addmargin}[7mm]{0mm}
			Show a written form of the route. E.g., ``Walk for 100m. Turn right. Walk for 25m. You have reached your destination.'' % Thank you for routing with KIT Campus Navigation.
		\end{addmargin}
\end{itemize}

\subsection{Mandatory Criteria -- Administration Tool}

\paragraph{Modifying the map}
The \textit{map} will be displayed in the same way as in the routing tool and the navigation in it (e.g. zooming, panning) is also the same. There are the following additional features:

\begin{itemize}
	\item The \textit{routing graph} is displayed on top of the \textit{map}.
	\item A set of vertices and edges can be highlighted.
		\begin{addmargin}[7mm]{0mm}
			Vertices and edges of the \textit{routing graph} will be drawn in another color when selected with the mouse.
		\end{addmargin}
	\item The outline of a building can be highlighted. %(TODO: An outline of a building have also to be stored as a polygon path)
		\begin{addmargin}[7mm]{0mm}
			The outline of a building will be drawn in another color when selected with the mouse.
		\end{addmargin}
\end{itemize}

\begin{itemize}
	\item The administrator can create, open and save a \textit{map}.
		\begin{addmargin}[7mm]{0mm}
			It is possible to open and save a \textit{map} of the campus or a \textit{floor plan map} of a building and its underlying \textit{routing graph}.
		\end{addmargin}
	\item The \textit{background image} of the \textit{map} can be exchanged.
	\item Buildings, vertices and edges can be added to or removed from a \textit{map}.
	\item Vertices can be moved and edges can be modified on the \textit{map}.
	\item \textit{Properties} attached to buildings, vertices and edges can be edited.
		\begin{addmargin}[7mm]{0mm}
			These \textit{properties} include for vertices: Name, address, building number and it's entrance. And for edges: Contains stairs (needed for wheelchair users) and opening hours.
		\end{addmargin}
	\item \textit{Floor plan maps} can be added to a building. For example, if you want to add a building with multiple floors, they can be added one after another witch an attached \textit{routing graph}.
	%\item The administrator can add entrances to a building. This information is saved as vertex \textit{property}.

	\item The administrator can add edges representing links between different floors of a building (e.g. stairs, elevators).

	%\item Create links between vertices of different maps
		%\begin{addmargin}[7mm]{0mm}
		%	In order to store maps seperately and connect them with each other, vertices on different maps will be identified with each other by linking them. I.e., it is possible to split the map of the whole campus into smaller maps and put them together.% ( TODO: Maybe it will be helpful to show two maps at the same time in the GUI in order to select the vertices identified with each other?)
		%\end{addmargin}
%	\item Store data in a XML format (? -> Product Data)
\end{itemize}

\subsection{Facultative Criteria -- Routing Tool}

\paragraph{Filtering}
By filtering nodes and edges, we can restrict our \textit{routing graph} to a subgraph of it (e.g. a \textit{graph} that uses no edges with the \textit{property} ``contains stairs''). This will allow for the following additional modes:

\begin{itemize}
	\item Routing for wheelchair users is provided. %(stairs property needed)
	\item Routing for cyclists is provided.
	\item It is possible to search only inside a building.
		\begin{addmargin}[7mm]{0mm}
			It is possible to search for routes within certain buildings only.
		\end{addmargin}
	\item The user can search for points of interest.
		\begin{addmargin}[7mm]{0mm}
			It is possible to search for certain places within buildings, (e.g. locate restrooms inside a building)
			as well as to search for points of interest outside of buildings (e.g. locate bicycle stands on the \textit{map}).
		\end{addmargin}
\end{itemize}

\paragraph{Searching}
\begin{itemize}
	\item When the user types in the \textit{search fields}, spellchecking (using all possible locations as dictionary) is done. %(with Levenshtein distance) (?)
	\item The user can bookmark favourite search requests.
\end{itemize}

\paragraph{Computing the routes}
\begin{itemize}
	\item The user can enter his own average speed to obtain the calculated time needed to walk the route.
	\item The routing destination can be one of multiple places (e.g. nearest restroom, bicycle stand, coffee machine or exit).
\end{itemize}

\paragraph{Android App}
\begin{itemize}
	\item An Android app is provided.
	\item The tool can use \textit{GPS} positions to find the nearest vertex in the underlying \textit{routing graph} of the exterior \textit{map}.
	\item Live routing on a smartphone or tablet with \textit{GPS} is provided.
\end{itemize}

\paragraph{Java Applet}
\begin{itemize}
	\item A Java Applet is provided.
\end{itemize}

\subsection{Facultative Criteria -- Administration Tool}

\begin{itemize}
	%\item Display additional information of vertices and edges in a separate area of the GUI (? -> GUI)
	\item The user of the administration tool can define his own set of filters for routing.
	\item New categories of \textit{properties} (e.g. ``coffee machine'') can be added.
	\item It is possible to close some roads temporarily (e.g. roads that are under construction).
\end{itemize}

\subsection{Excluded Criteria -- Routing Tool}

\begin{itemize}
	\item No routing for cars will be provided.
	\item No \textit{map} data outside ``KIT Campus SÃ¼d'' will be provided by the project.
	\item Speech input will not be supported.
	\item Public transportation will not be considered when calculating the route.
	\item No photos of locations/places will be provided.
	\item No alternative routes will be calculated or shown.
	\item The tool is not a server based application.
\end{itemize}

\subsection{Excluded Criteria -- Administration Tool}

\begin{itemize}
	\item There will be no auto generation of the \textit{routing graph} for a \textit{map} from images.
	%\item It is not possible to do freehand drawings on the map. %This is not MS Paint.
	\item No functionality to import/export OpenStreetMap data will be provided.
\end{itemize}
